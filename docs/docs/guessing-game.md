# çŒœæ•°æ¸¸æˆ

## åˆ›å»ºæ–°é¡¹ç›®

```shell
cargo new guessing_game
cd guessing_game
```

## å¤„ç†ä¸€æ¬¡çŒœæµ‹è¾“å…¥

æ–‡ä»¶å: src/main.rs

```rust
// é¢„å¯¼å…¥
// ioè¾“å…¥/è¾“å‡ºåº“å¼•å…¥å½“å‰ä½œç”¨åŸŸ; 
// io åº“æ¥è‡ªäºæ ‡å‡†åº“ï¼Œä¹Ÿè¢«ç§°ä¸º std
use std::io;  

// main å‡½æ•°æ˜¯ç¨‹åºçš„å…¥å£ç‚¹
// fn è¯­æ³•å£°æ˜äº†ä¸€ä¸ªæ–°å‡½æ•°
// () è¡¨æ˜æ²¡æœ‰å‚æ•°
// { ä½œä¸ºå‡½æ•°ä½“çš„å¼€å§‹
fn main() {
    println!("Guess the number!");          // println! æ˜¯ä¸€ä¸ªåœ¨å±å¹•ä¸Šæ‰“å°å­—ç¬¦ä¸²çš„å®

    println!("Please input your guess.");   // println! æ˜¯ä¸€ä¸ªåœ¨å±å¹•ä¸Šæ‰“å°å­—ç¬¦ä¸²çš„å®

    // åˆ›å»ºä¸€ä¸ª å˜é‡ï¼ˆvariableï¼‰æ¥å‚¨å­˜ç”¨æˆ·è¾“å…¥
    // åœ¨ Rust ä¸­ï¼Œå˜é‡é»˜è®¤æ˜¯ä¸å¯å˜çš„ï¼Œè¿™æ„å‘³ç€ä¸€æ—¦æˆ‘ä»¬ç»™å˜é‡èµ‹å€¼ï¼Œè¿™ä¸ªå€¼å°±ä¸å†å¯ä»¥ä¿®æ”¹äº†ã€‚ 
    let mut guess = String::new();         // åœ¨å˜é‡åå‰ä½¿ç”¨ mut æ¥ä½¿ä¸€ä¸ªå˜é‡å¯å˜
    // String æ˜¯ä¸€ä¸ªæ ‡å‡†åº“æä¾›çš„å­—ç¬¦ä¸²ç±»å‹ï¼Œå®ƒæ˜¯ UTF-8 ç¼–ç çš„å¯å¢é•¿æ–‡æœ¬å—ã€‚
    // ::new é‚£ä¸€è¡Œçš„ :: è¯­æ³•è¡¨æ˜ new æ˜¯ String ç±»å‹çš„ä¸€ä¸ª å…³è”å‡½æ•°ï¼ˆassociated functionï¼‰ã€‚
    // å…³è”å‡½æ•°æ˜¯é’ˆå¯¹ç±»å‹å®ç°çš„ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­æ˜¯ Stringï¼Œè€Œä¸æ˜¯ String çš„æŸä¸ªç‰¹å®šå®ä¾‹ã€‚ä¸€äº›è¯­è¨€ä¸­æŠŠå®ƒç§°ä¸º é™æ€æ–¹æ³•ï¼ˆstatic methodï¼‰ã€‚
    // new å‡½æ•°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„ç©ºå­—ç¬¦ä¸²ï¼Œä½ ä¼šå‘ç°å¾ˆå¤šç±»å‹ä¸Šæœ‰ new å‡½æ•°ï¼Œå› ä¸ºå®ƒæ˜¯åˆ›å»ºç±»å‹å®ä¾‹çš„æƒ¯ç”¨å‡½æ•°åã€‚
    // æ€»çš„æ¥è¯´ï¼Œlet mut guess = String::new(); è¿™ä¸€è¡Œåˆ›å»ºäº†ä¸€ä¸ªå¯å˜å˜é‡ï¼Œå½“å‰å®ƒç»‘å®šåˆ°ä¸€ä¸ªæ–°çš„ String ç©ºå®ä¾‹ä¸Šã€‚


    // å¦‚æœç¨‹åºçš„å¼€å¤´æ²¡æœ‰ä½¿ç”¨ use std::io å¼•å…¥ io åº“ï¼Œæˆ‘ä»¬ä»å¯ä»¥é€šè¿‡æŠŠå‡½æ•°è°ƒç”¨å†™æˆ std::io::stdin æ¥ä½¿ç”¨å‡½æ•°ã€‚
    // stdin å‡½æ•°è¿”å›ä¸€ä¸ª std::io::Stdin çš„å®ä¾‹ï¼Œè¿™ä»£è¡¨ç»ˆç«¯æ ‡å‡†è¾“å…¥å¥æŸ„çš„ç±»å‹ã€‚
    io::stdin()
        .read_line(&mut guess)              // ä»æ ‡å‡†è¾“å…¥å¥æŸ„è·å–ç”¨æˆ·è¾“å…¥ã€‚
            // å°† &mut guess ä½œä¸ºå‚æ•°ä¼ é€’ç»™ read_line() å‡½æ•°ï¼Œè®©å…¶å°†ç”¨æˆ·è¾“å…¥å‚¨å­˜åˆ°è¿™ä¸ªå­—ç¬¦ä¸²ä¸­ã€‚
            // read_line çš„å·¥ä½œæ˜¯ï¼Œæ— è®ºç”¨æˆ·åœ¨æ ‡å‡†è¾“å…¥ä¸­é”®å…¥ä»€ä¹ˆå†…å®¹ï¼Œéƒ½å°†å…¶è¿½åŠ ï¼ˆä¸ä¼šè¦†ç›–å…¶åŸæœ‰å†…å®¹ï¼‰åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­ï¼Œå› æ­¤å®ƒéœ€è¦å­—ç¬¦ä¸²ä½œä¸ºå‚æ•°ã€‚
            // è¿™ä¸ªå­—ç¬¦ä¸²å‚æ•°åº”è¯¥æ˜¯å¯å˜çš„ï¼Œä»¥ä¾¿ read_line å°†ç”¨æˆ·è¾“å…¥é™„åŠ ä¸Šå»ã€‚
            // & è¡¨ç¤ºè¿™ä¸ªå‚æ•°æ˜¯ä¸€ä¸ª å¼•ç”¨ï¼ˆreferenceï¼‰ï¼Œå®ƒå…è®¸å¤šå¤„ä»£ç è®¿é—®åŒä¸€å¤„æ•°æ®ï¼Œè€Œæ— éœ€åœ¨å†…å­˜ä¸­å¤šæ¬¡æ‹·è´ã€‚
        .expect("Failed to read line");
            // ä¼šè¿”å›ä¸€ä¸ªç±»å‹ä¸º Result çš„å€¼ã€‚ Result æ˜¯ä¸€ç§æšä¸¾ç±»å‹ï¼Œé€šå¸¸ä¹Ÿå†™ä½œ enumã€‚
            // æšä¸¾ç±»å‹å˜é‡çš„å€¼å¯ä»¥æ˜¯å¤šç§å¯èƒ½çŠ¶æ€ä¸­çš„ä¸€ä¸ªã€‚æˆ‘ä»¬æŠŠæ¯ç§å¯èƒ½çš„çŠ¶æ€ç§°ä¸ºä¸€ç§ æšä¸¾æˆå‘˜ï¼ˆvariantï¼‰ã€‚
            // è¿™é‡Œçš„ Result ç±»å‹å°†ç”¨æ¥ç¼–ç é”™è¯¯å¤„ç†çš„ä¿¡æ¯ã€‚

            // Result çš„æˆå‘˜æ˜¯ Ok å’Œ Errï¼Œ
            // Ok æˆå‘˜è¡¨ç¤ºæ“ä½œæˆåŠŸï¼Œå†…éƒ¨åŒ…å«æˆåŠŸæ—¶äº§ç”Ÿçš„å€¼ã€‚
            // Err æˆå‘˜åˆ™æ„å‘³ç€æ“ä½œå¤±è´¥ï¼Œå¹¶ä¸”åŒ…å«å¤±è´¥çš„å‰å› åæœã€‚

            // Result ç±»å‹çš„å€¼ï¼Œåƒå…¶ä»–ç±»å‹ä¸€æ ·ï¼Œæ‹¥æœ‰å®šä¹‰äºå…¶ä¸Šçš„æ–¹æ³•ã€‚Result çš„å®ä¾‹æ‹¥æœ‰ expect æ–¹æ³•ã€‚
            // å¦‚æœ io::Result å®ä¾‹çš„å€¼æ˜¯ Errï¼Œexpect ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œå¹¶æ˜¾ç¤ºå½“åšå‚æ•°ä¼ é€’ç»™ expect çš„ä¿¡æ¯ã€‚
            // å¦‚æœ read_line æ–¹æ³•è¿”å› Errï¼Œåˆ™å¯èƒ½æ˜¯æ¥æºäºåº•å±‚æ“ä½œç³»ç»Ÿé”™è¯¯çš„ç»“æœã€‚
            // å¦‚æœ Result å®ä¾‹çš„å€¼æ˜¯ Okï¼Œexpect ä¼šè·å– Ok ä¸­çš„å€¼å¹¶åŸæ ·è¿”å›ã€‚
            // åœ¨æœ¬ä¾‹ä¸­ï¼Œè¿™ä¸ªå€¼æ˜¯ç”¨æˆ·è¾“å…¥åˆ°æ ‡å‡†è¾“å…¥ä¸­çš„å­—èŠ‚æ•°ã€‚

            // å¦‚æœä¸è°ƒç”¨ expectï¼Œç¨‹åºä¹Ÿèƒ½ç¼–è¯‘ï¼Œä¸è¿‡ä¼šå‡ºç°ä¸€ä¸ªè­¦å‘Šï¼š 
            // note: this `Result` may be an `Err` variant, which should be handled

            // Rust è­¦å‘Šæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨ read_line çš„è¿”å›å€¼ Resultï¼Œè¯´æ˜æœ‰ä¸€ä¸ªå¯èƒ½çš„é”™è¯¯æ²¡æœ‰å¤„ç†ã€‚
            // æ¶ˆé™¤è­¦å‘Šçš„æ­£ç¡®åšæ³•æ˜¯å®é™…å»ç¼–å†™é”™è¯¯å¤„ç†ä»£ç ï¼Œä¸è¿‡ç”±äºæˆ‘ä»¬å°±æ˜¯å¸Œæœ›ç¨‹åºåœ¨å‡ºç°é—®é¢˜æ—¶ç«‹å³å´©æºƒï¼Œæ‰€ä»¥ç›´æ¥ä½¿ç”¨ expectã€‚
            // ç»§ç»­æ·±å…¥å­¦ä¹ çš„è¯ï¼Œå°†ä¼šå­¦ä¹ åˆ°å¦‚ä½•ä»é”™è¯¯ä¸­æ¢å¤ã€‚

    println!("You guessed: {guess}");
        // æ‰“å°äº†å­˜å‚¨ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚
        // ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼Œé‡Œé¢çš„ {} æ˜¯é¢„ç•™åœ¨ç‰¹å®šä½ç½®çš„å ä½ç¬¦
        // ä½¿ç”¨ {} ä¹Ÿå¯ä»¥æ‰“å°å¤šä¸ªå€¼ï¼š
        // ç¬¬ä¸€å¯¹ {} ä½¿ç”¨æ ¼å¼åŒ–å­—ç¬¦ä¸²ä¹‹åçš„ç¬¬ä¸€ä¸ªå€¼ï¼Œç¬¬äºŒå¯¹åˆ™ä½¿ç”¨ç¬¬äºŒä¸ªå€¼ï¼Œä¾æ­¤ç±»æ¨ã€‚è°ƒ
        // ç”¨ä¸€æ¬¡ println! æ‰“å°å¤šä¸ªå€¼çœ‹èµ·æ¥åƒè¿™æ ·ï¼š
        // println!("x = {} and y = {}", x, y);
}
```

## ç”Ÿæˆä¸€ä¸ªç§˜å¯†æ•°å­—

Rust æ ‡å‡†åº“ä¸­å°šæœªåŒ…å«éšæœºæ•°åŠŸèƒ½ã€‚ç„¶è€Œï¼ŒRust å›¢é˜Ÿè¿˜æ˜¯æä¾›äº†ä¸€ä¸ªåŒ…å«ä¸Šè¿°åŠŸèƒ½çš„ [rand crate](https://crates.io/crates/rand)ã€‚

[rand crate](https://crates.io/crates/rand) æ˜¯ä¸€ä¸ª **åº“ crate**ï¼Œ**åº“ crate** å¯ä»¥åŒ…å«ä»»æ„èƒ½è¢«å…¶ä»–ç¨‹åºä½¿ç”¨çš„ä»£ç ï¼Œä½†æ˜¯ä¸èƒ½è‡ªæ‰§è¡Œã€‚

åœ¨ä½¿ç”¨ rand ç¼–å†™ä»£ç ä¹‹å‰ï¼Œéœ€è¦ä¿®æ”¹ `Cargo.toml` æ–‡ä»¶ï¼Œå¼•å…¥ä¸€ä¸ª `rand` ä¾èµ–ã€‚ç°åœ¨æ‰“å¼€è¿™ä¸ªæ–‡ä»¶å¹¶å°†ä¸‹é¢è¿™ä¸€è¡Œæ·»åŠ åˆ° \[dependencies\] ç‰‡æ®µæ ‡é¢˜ä¹‹ä¸‹ã€‚

æ–‡ä»¶å: Cargo.toml

```toml
rand = "0.8.3"
```

\[dependencies\] ç‰‡æ®µå‘Šè¯‰ Cargo æœ¬é¡¹ç›®ä¾èµ–äº†å“ªäº›å¤–éƒ¨ crate åŠå…¶ç‰ˆæœ¬ã€‚æœ¬ä¾‹ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬ `0.8.3` æ¥æŒ‡å®š [rand crate](https://crates.io/crates/rand)çš„ç‰ˆæœ¬ã€‚Cargo ç†è§£ [è¯­ä¹‰åŒ–ç‰ˆæœ¬](http://semver.org/)ï¼ˆSemantic Versioningï¼‰ï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸º SemVerï¼‰ï¼Œè¿™æ˜¯ä¸€ç§å®šä¹‰ç‰ˆæœ¬å·çš„æ ‡å‡†ã€‚`0.8.3` äº‹å®ä¸Šæ˜¯ `^0.8.3` çš„ç®€å†™ï¼Œå®ƒè¡¨ç¤ºä»»ä½•è‡³å°‘æ˜¯ `0.8.3` ä½†å°äº `0.9.0` çš„ç‰ˆæœ¬ã€‚

Cargo è®¤ä¸ºè¿™äº›ç‰ˆæœ¬ä¸ 0.8.3 ç‰ˆæœ¬çš„å…¬æœ‰ API ç›¸å…¼å®¹ï¼Œè¿™æ ·çš„ç‰ˆæœ¬æŒ‡å®šç¡®ä¿äº†æˆ‘ä»¬å¯ä»¥è·å–èƒ½ä½¿æœ¬ç« ä»£ç ç¼–è¯‘çš„æœ€æ–°çš„è¡¥ä¸ï¼ˆpatchï¼‰ç‰ˆæœ¬ã€‚ä»»ä½•å¤§äºç­‰äº 0.9.0 çš„ç‰ˆæœ¬ä¸èƒ½ä¿è¯å’Œæ¥ä¸‹æ¥çš„ç¤ºä¾‹é‡‡ç”¨äº†ç›¸åŒçš„ APIã€‚

ç°åœ¨ï¼Œä¸ä¿®æ”¹ä»»ä½•ä»£ç ï¼Œæ„å»ºé¡¹ç›®ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```shell
$ cargo build
    Updating crates.io index
  Downloaded ppv-lite86 v0.2.17
  Downloaded rand v0.8.5
  Downloaded rand_chacha v0.3.1
  Downloaded rand_core v0.6.4
  Downloaded cfg-if v1.0.0
  Downloaded getrandom v0.2.8
  Downloaded libc v0.2.138
  Downloaded 7 crates (794.8 KB) in 2.72s
   Compiling libc v0.2.138
   Compiling cfg-if v1.0.0
   Compiling ppv-lite86 v0.2.17
   Compiling getrandom v0.2.8
   Compiling rand_core v0.6.4
   Compiling rand_chacha v0.3.1
   Compiling rand v0.8.5
   Compiling guessing-game v0.1.0 (file:///projects/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 3m 45s
# å°† rand crate æ·»åŠ ä¸ºä¾èµ–ä¹‹åè¿è¡Œ cargo build çš„è¾“å‡º
```

ç°åœ¨ç³»ç»Ÿæœ‰äº†ä¸€ä¸ªå¤–éƒ¨ä¾èµ–ï¼ŒCargo ä» registry ä¸Šè·å–æ‰€æœ‰åŒ…çš„æœ€æ–°ç‰ˆæœ¬ä¿¡æ¯ï¼Œè¿™æ˜¯ä¸€ä»½æ¥è‡ª [Crates.io](https://crates.io/) çš„æ•°æ®æ‹·è´ã€‚Crates.io æ˜¯ Rust ç”Ÿæ€ç¯å¢ƒä¸­çš„å¼€å‘è€…ä»¬å‘ä»–äººè´¡çŒ® Rust å¼€æºé¡¹ç›®çš„åœ°æ–¹ã€‚

åœ¨æ›´æ–°å®Œ registry åï¼ŒCargo æ£€æŸ¥ \[dependencies\] éƒ¨åˆ†å¹¶ä¸‹è½½åˆ—è¡¨ä¸­åŒ…å«ä½†è¿˜æœªä¸‹è½½çš„ crates ã€‚æœ¬ä¾‹ä¸­ï¼Œè™½ç„¶åªå£°æ˜äº† rand ä¸€ä¸ªä¾èµ–ï¼Œç„¶è€Œ Cargo è¿˜æ˜¯é¢å¤–è·å–äº† rand æ‰€éœ€è¦çš„å…¶ä»– cratesï¼Œå› ä¸º rand ä¾èµ–å®ƒä»¬æ¥æ­£å¸¸å·¥ä½œã€‚ä¸‹è½½å®Œæˆåï¼ŒRust ç¼–è¯‘ä¾èµ–ï¼Œç„¶åä½¿ç”¨è¿™äº›ä¾èµ–ç¼–è¯‘é¡¹ç›®ã€‚

æ–‡ä»¶å: src/main.rs

```rust
// æ–°å¢äº†ä¸€è¡Œ use rand::Rngã€‚
// Rng æ˜¯ä¸€ä¸ª traitï¼Œå®ƒå®šä¹‰äº†éšæœºæ•°ç”Ÿæˆå™¨åº”å®ç°çš„æ–¹æ³•ï¼Œæƒ³ä½¿ç”¨è¿™äº›æ–¹æ³•çš„è¯ï¼Œæ­¤ trait å¿…é¡»åœ¨ä½œç”¨åŸŸä¸­ã€‚
use rand::Rng;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);
        // è°ƒç”¨äº† rand::thread_rng å‡½æ•°æä¾›å®é™…ä½¿ç”¨çš„éšæœºæ•°ç”Ÿæˆå™¨ï¼šå®ƒä½äºå½“å‰æ‰§è¡Œçº¿ç¨‹çš„æœ¬åœ°ç¯å¢ƒä¸­ï¼Œå¹¶ä»æ“ä½œç³»ç»Ÿè·å– seedã€‚
        // æ¥ç€è°ƒç”¨éšæœºæ•°ç”Ÿæˆå™¨çš„ gen_range æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•ç”± use rand::Rng è¯­å¥å¼•å…¥åˆ°ä½œç”¨åŸŸçš„ Rng trait å®šä¹‰ã€‚
        // gen_range æ–¹æ³•è·å–ä¸€ä¸ªèŒƒå›´è¡¨è¾¾å¼ï¼ˆrange expressionï¼‰ä½œä¸ºå‚æ•°ï¼Œå¹¶ç”Ÿæˆä¸€ä¸ªåœ¨æ­¤èŒƒå›´ä¹‹é—´çš„éšæœºæ•°ã€‚
        // è¿™é‡Œä½¿ç”¨çš„è¿™ç±»èŒƒå›´è¡¨è¾¾å¼ä½¿ç”¨äº† start..=end è¿™æ ·çš„å½¢å¼ï¼Œä¹Ÿå°±æ˜¯è¯´åŒ…å«äº†ä¸Šä¸‹ç«¯ç‚¹ï¼Œæ‰€ä»¥éœ€è¦æŒ‡å®š 1..=100 æ¥è¯·æ±‚ä¸€ä¸ª 1 å’Œ 100 ä¹‹é—´çš„æ•°ã€‚

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

    let mut guess = String::new();

    io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

    println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}")
}
```

> **æ³¨æ„**ï¼š
>
> ä½ ä¸å¯èƒ½å‡­ç©ºå°±çŸ¥é“åº”è¯¥ use å“ªä¸ª trait ä»¥åŠè¯¥ä» crate ä¸­è°ƒç”¨å“ªä¸ªæ–¹æ³•ï¼Œå› æ­¤æ¯ä¸ªcrate æœ‰ä½¿ç”¨è¯´æ˜æ–‡æ¡£ã€‚
>
> Cargo æœ‰ä¸€ä¸ªå¾ˆæ£’çš„åŠŸèƒ½æ˜¯ï¼šè¿è¡Œ `cargo doc --open` å‘½ä»¤æ¥æ„å»ºæ‰€æœ‰æœ¬åœ°ä¾èµ–æä¾›çš„æ–‡æ¡£ï¼Œå¹¶åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ã€‚
>
> ä¾‹å¦‚ï¼Œå‡è®¾ä½ å¯¹ `rand crate` ä¸­çš„å…¶ä»–åŠŸèƒ½æ„Ÿå…´è¶£ï¼Œä½ å¯ä»¥è¿è¡Œ `cargo doc --open` å¹¶ç‚¹å‡»å·¦ä¾§å¯¼èˆªæ ä¸­çš„ randã€‚

## æ¯”è¾ƒçŒœæµ‹çš„æ•°å­—å’Œç§˜å¯†æ•°å­—

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
    // ä»æ ‡å‡†åº“å¼•å…¥äº†ä¸€ä¸ªå«åš std::cmp::Ordering çš„ç±»å‹åˆ°ä½œç”¨åŸŸä¸­ã€‚ 
    // Ordering ä¹Ÿæ˜¯ä¸€ä¸ªæšä¸¾ï¼Œä¸è¿‡å®ƒçš„æˆå‘˜æ˜¯ Lessã€Greater å’Œ Equalã€‚
    // è¿™æ˜¯æ¯”è¾ƒä¸¤ä¸ªå€¼æ—¶å¯èƒ½å‡ºç°çš„ä¸‰ç§ç»“æœã€‚
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

    let mut guess = String::new();

    io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

    println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

    match guess.cmp(&secret_number){
        // cmp æ–¹æ³•ç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªå€¼å¹¶å¯ä»¥åœ¨ä»»ä½•å¯æ¯”è¾ƒçš„å€¼ä¸Šè°ƒç”¨ã€‚
        // å®ƒè·å–ä¸€ä¸ªè¢«æ¯”è¾ƒå€¼çš„å¼•ç”¨ï¼šè¿™é‡Œæ˜¯æŠŠ guess ä¸ secret_number åšæ¯”è¾ƒã€‚
        // ç„¶åå®ƒä¼šè¿”å›ä¸€ä¸ªåˆšæ‰é€šè¿‡ use å¼•å…¥ä½œç”¨åŸŸçš„ Ordering æšä¸¾çš„æˆå‘˜ã€‚
        // ä½¿ç”¨ä¸€ä¸ª match è¡¨è¾¾å¼ï¼Œæ ¹æ®å¯¹ guess å’Œ secret_number è°ƒç”¨ cmp è¿”å›çš„ Ordering æˆå‘˜æ¥å†³å®šæ¥ä¸‹æ¥åšä»€ä¹ˆã€‚
        Ordering::Less => println!("å¤ªå°äº†ï¼"),
        Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
        Ordering::Equal => println!("çŒœå¯¹äº†ï¼"),
    }
}
```

ä¸€ä¸ª match è¡¨è¾¾å¼ç”± åˆ†æ”¯ï¼ˆarmsï¼‰ æ„æˆã€‚

ä¸€ä¸ªåˆ†æ”¯åŒ…å«ä¸€ä¸ª æ¨¡å¼ï¼ˆpatternï¼‰å’Œè¡¨è¾¾å¼å¼€å¤´çš„å€¼ä¸åˆ†æ”¯æ¨¡å¼ç›¸åŒ¹é…æ—¶åº”è¯¥æ‰§è¡Œçš„ä»£ç ã€‚

Rust è·å–æä¾›ç»™ match çš„å€¼å¹¶æŒ¨ä¸ªæ£€æŸ¥æ¯ä¸ªåˆ†æ”¯çš„æ¨¡å¼ã€‚

æ­¤æ—¶è¿›è¡Œ `cargo build` ä¼šå‡ºç°å¦‚ä¸‹é”™è¯¯:

```shell
cargo build
   Compiling guessing-game v0.1.0 (/files/rust-example-apps/src/guessing-game)
error[E0308]: mismatched types
  --> src/main.rs:20:21
   |
20 |     match guess.cmp(&secret_number) {
   |                 --- ^^^^^^^^^^^^^^ expected struct `String`, found integer
   |                 |
   |                 arguments to this function are incorrect
   |
   = note: expected reference `&String`
              found reference `&{integer}`
note: associated function defined here

For more information about this error, try `rustc --explain E0308`.
error: could not compile `guessing-game` due to previous error
```

é”™è¯¯çš„æ ¸å¿ƒè¡¨æ˜è¿™é‡Œæœ‰ **ä¸åŒ¹é…çš„ç±»å‹ï¼ˆmismatched typesï¼‰**ã€‚

Rust æœ‰ä¸€ä¸ªé™æ€å¼ºç±»å‹ç³»ç»Ÿï¼ŒåŒæ—¶ä¹Ÿæœ‰ç±»å‹æ¨æ–­ã€‚

å½“æˆ‘ä»¬å†™å‡º let guess = String::new() æ—¶ï¼ŒRust æ¨æ–­å‡º guess åº”è¯¥æ˜¯ String ç±»å‹ï¼Œå¹¶ä¸éœ€è¦æˆ‘ä»¬å†™å‡ºç±»å‹ã€‚

å¦ä¸€æ–¹é¢ï¼Œsecret_numberï¼Œæ˜¯æ•°å­—ç±»å‹ã€‚å‡ ä¸ªæ•°å­—ç±»å‹æ‹¥æœ‰ 1 åˆ° 100 ä¹‹é—´çš„å€¼ï¼š32 ä½æ•°å­— i32ï¼›32 ä½æ— ç¬¦å·æ•°å­— u32ï¼›64 ä½æ•°å­— i64 ç­‰ç­‰ã€‚

Rust é»˜è®¤ä½¿ç”¨ i32ï¼Œæ‰€ä»¥å®ƒæ˜¯ secret_number çš„ç±»å‹ï¼Œé™¤éå¢åŠ ç±»å‹ä¿¡æ¯ï¼Œæˆ–ä»»ä½•èƒ½è®© Rust æ¨æ–­å‡ºä¸åŒæ•°å€¼ç±»å‹çš„ä¿¡æ¯ã€‚

è¿™é‡Œé”™è¯¯çš„åŸå› åœ¨äº Rust ä¸ä¼šæ¯”è¾ƒå­—ç¬¦ä¸²ç±»å‹å’Œæ•°å­—ç±»å‹ã€‚

æ‰€ä»¥æˆ‘ä»¬å¿…é¡»æŠŠä»è¾“å…¥ä¸­è¯»å–åˆ°çš„ String è½¬æ¢ä¸ºä¸€ä¸ªçœŸæ­£çš„æ•°å­—ç±»å‹ï¼Œæ‰å¥½ä¸ç§˜å¯†æ•°å­—è¿›è¡Œæ¯”è¾ƒã€‚è¿™å¯ä»¥é€šè¿‡åœ¨ main å‡½æ•°ä½“ä¸­å¢åŠ å¦‚ä¸‹ä»£ç æ¥å®ç°ï¼š

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

    let mut guess = String::new();

    io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

    let guess: u32 = guess.trim().parse().expect("è¯·è¾“å…¥æ•°å­—!");
        // è¿™é‡Œåˆ›å»ºäº†ä¸€ä¸ªå«åš guess çš„å˜é‡ã€‚
        // ä¸è¿‡ç­‰ç­‰ï¼Œä¸æ˜¯å·²ç»æœ‰äº†ä¸€ä¸ªå«åš guess çš„å˜é‡äº†å—ï¼Ÿ
        // ç¡®å®å¦‚æ­¤ï¼Œä¸è¿‡ Rust å…è®¸ç”¨ä¸€ä¸ªæ–°å€¼æ¥ éšè— ï¼ˆshadowï¼‰ guess ä¹‹å‰çš„å€¼ã€‚
        // è¿™ä¸ªåŠŸèƒ½å¸¸ç”¨åœ¨éœ€è¦è½¬æ¢å€¼ç±»å‹ä¹‹ç±»çš„åœºæ™¯ã€‚
        // å®ƒå…è®¸æˆ‘ä»¬å¤ç”¨ guess å˜é‡çš„åå­—ï¼Œè€Œä¸æ˜¯è¢«è¿«åˆ›å»ºä¸¤ä¸ªä¸åŒå˜é‡ï¼Œè¯¸å¦‚ guess_str å’Œ guess ä¹‹ç±»ã€‚

        // å°†è¿™ä¸ªæ–°å˜é‡ç»‘å®šåˆ° guess.trim().parse() è¡¨è¾¾å¼ä¸Šã€‚
        // è¡¨è¾¾å¼ä¸­çš„ guess æŒ‡çš„æ˜¯åŒ…å«è¾“å…¥çš„å­—ç¬¦ä¸²ç±»å‹ guess å˜é‡ã€‚
        // String å®ä¾‹çš„ trim æ–¹æ³•ä¼šå»é™¤å­—ç¬¦ä¸²å¼€å¤´å’Œç»“å°¾çš„ç©ºç™½å­—ç¬¦ï¼Œæˆ‘ä»¬å¿…é¡»æ‰§è¡Œæ­¤æ–¹æ³•æ‰èƒ½å°†å­—ç¬¦ä¸²ä¸ u32 æ¯”è¾ƒï¼Œå› ä¸º u32 åªèƒ½åŒ…å«æ•°å€¼å‹æ•°æ®ã€‚
        // ç”¨æˆ·å¿…é¡»è¾“å…¥ enter é”®æ‰èƒ½è®© read_line è¿”å›å¹¶è¾“å…¥ä»–ä»¬çš„çŒœæƒ³ï¼Œè¿™å°†ä¼šåœ¨å­—ç¬¦ä¸²ä¸­å¢åŠ ä¸€ä¸ªæ¢è¡Œï¼ˆnewlineï¼‰ç¬¦ã€‚
        // ä¾‹å¦‚ï¼Œç”¨æˆ·è¾“å…¥ 5 å¹¶æŒ‰ä¸‹ enter, guess çœ‹èµ·æ¥åƒè¿™æ ·ï¼š5\n æˆ–è€… 5\r\nã€‚
        // \n ä»£è¡¨ â€œæ¢è¡Œâ€ï¼Œå›è½¦é”®ï¼›\r ä»£è¡¨ â€œå›è½¦â€ï¼Œå›è½¦é”®ã€‚
        // trim æ–¹æ³•ä¼šæ¶ˆé™¤ \n æˆ–è€… \r\nï¼Œåªç•™ä¸‹ 5ã€‚

        // å­—ç¬¦ä¸²çš„ parse æ–¹æ³• å°†å­—ç¬¦ä¸²è½¬æ¢æˆå…¶ä»–ç±»å‹ã€‚
        // è¿™é‡Œç”¨å®ƒæ¥æŠŠå­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å€¼ã€‚æˆ‘ä»¬éœ€è¦å‘Šè¯‰ Rust å…·ä½“çš„æ•°å­—ç±»å‹ï¼Œè¿™é‡Œé€šè¿‡ let guess: u32 æŒ‡å®šã€‚
        // guess åé¢çš„å†’å·ï¼ˆ:ï¼‰å‘Šè¯‰ Rust æˆ‘ä»¬æŒ‡å®šäº†å˜é‡çš„ç±»å‹ã€‚
        // Rust æœ‰ä¸€äº›å†…å»ºçš„æ•°å­—ç±»å‹ï¼›u32 æ˜¯ä¸€ä¸ªæ— ç¬¦å·çš„ 32 ä½æ•´å‹ã€‚
        // å¯¹äºä¸å¤§çš„æ­£æ•´æ•°æ¥è¯´ï¼Œå®ƒæ˜¯ä¸é”™çš„é»˜è®¤ç±»å‹ï¼Œç¬¬ä¸‰ç« è¿˜ä¼šè®²åˆ°å…¶ä»–æ•°å­—ç±»å‹ã€‚
        // å¦å¤–ï¼Œç¨‹åºä¸­çš„ u32 æ³¨è§£ä»¥åŠä¸ secret_number çš„æ¯”è¾ƒï¼Œæ„å‘³ç€ Rust ä¼šæ¨æ–­å‡º secret_number ä¹Ÿæ˜¯ u32 ç±»å‹ã€‚
        // ç°åœ¨å¯ä»¥ä½¿ç”¨ç›¸åŒç±»å‹æ¯”è¾ƒä¸¤ä¸ªå€¼äº†ï¼

        // parse æ–¹æ³•åªæœ‰åœ¨å­—ç¬¦é€»è¾‘ä¸Šå¯ä»¥è½¬æ¢ä¸ºæ•°å­—çš„æ—¶å€™æ‰èƒ½å·¥ä½œæ‰€ä»¥éå¸¸å®¹æ˜“å‡ºé”™ã€‚
        // ä¾‹å¦‚ï¼Œå­—ç¬¦ä¸²ä¸­åŒ…å« AğŸ‘%ï¼Œå°±æ— æ³•å°†å…¶è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ã€‚
        // å› æ­¤ï¼Œparse æ–¹æ³•è¿”å›ä¸€ä¸ª Result ç±»å‹ã€‚
        // åƒä¹‹å‰ â€œä½¿ç”¨ Result ç±»å‹æ¥å¤„ç†æ½œåœ¨çš„é”™è¯¯â€ è®¨è®ºçš„ read_line æ–¹æ³•é‚£æ ·ï¼Œå†æ¬¡æŒ‰éƒ¨å°±ç­çš„ç”¨ expect æ–¹æ³•å¤„ç†å³å¯ã€‚
        // å¦‚æœ parse ä¸èƒ½ä»å­—ç¬¦ä¸²ç”Ÿæˆä¸€ä¸ªæ•°å­—ï¼Œè¿”å›ä¸€ä¸ª Result çš„ Err æˆå‘˜æ—¶ï¼Œexpect ä¼šä½¿æ¸¸æˆå´©æºƒå¹¶æ‰“å°é™„å¸¦çš„ä¿¡æ¯ã€‚
        // å¦‚æœ parse æˆåŠŸåœ°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼Œå®ƒä¼šè¿”å› Result çš„ Ok æˆå‘˜ï¼Œç„¶å expect ä¼šè¿”å› Ok å€¼ä¸­çš„æ•°å­—ã€‚



    println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

    match guess.cmp(&secret_number) {
        Ordering::Less => println!("å¤ªå°äº†ï¼"),
        Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
        Ordering::Equal => println!("çŒœå¯¹äº†ï¼"),
    }
}

```

## ä½¿ç”¨å¾ªç¯æ¥å…è®¸å¤šæ¬¡çŒœæµ‹

loop å…³é”®å­—åˆ›å»ºäº†ä¸€ä¸ªæ— é™å¾ªç¯ã€‚

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    loop {
        println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

        let mut guess = String::new();

        io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

        let guess: u32 = guess.trim().parse().expect("è¯·è¾“å…¥æ•°å­—!");

        println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("å¤ªå°äº†ï¼"),
            Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
            Ordering::Equal => println!("çŒœå¯¹äº†ï¼"),
        }
    }
}
```

å¦‚ä¸Šæ‰€ç¤ºï¼Œæˆ‘ä»¬å°†æç¤ºç”¨æˆ·çŒœæµ‹ä¹‹åçš„æ‰€æœ‰å†…å®¹ç§»åŠ¨åˆ°äº†å¾ªç¯ä¸­ã€‚ç¡®ä¿ loop å¾ªç¯ä¸­çš„ä»£ç å¤šç¼©è¿›å››ä¸ªç©ºæ ¼ï¼Œå†æ¬¡è¿è¡Œç¨‹åºã€‚æ³¨æ„è¿™é‡Œæœ‰ä¸€ä¸ªæ–°é—®é¢˜ï¼Œå› ä¸ºç¨‹åºå¿ å®åœ°æ‰§è¡Œäº†æˆ‘ä»¬çš„è¦æ±‚ï¼šæ°¸è¿œåœ°è¯·æ±‚å¦ä¸€ä¸ªçŒœæµ‹ï¼Œç”¨æˆ·å¥½åƒæ— æ³•é€€å‡ºå•Šï¼

ç”¨æˆ·æ€»èƒ½ä½¿ç”¨ ctrl-c ç»ˆæ­¢ç¨‹åºã€‚ä¸è¿‡è¿˜æœ‰å¦ä¸€ä¸ªæ–¹æ³•è·³å‡ºæ— é™å¾ªç¯ï¼Œå°±æ˜¯ â€œæ¯”è¾ƒçŒœæµ‹ä¸ç§˜å¯†æ•°å­—â€ éƒ¨åˆ†æåˆ°çš„ parseï¼šå¦‚æœç”¨æˆ·è¾“å…¥çš„ç­”æ¡ˆä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œç¨‹åºä¼šå´©æºƒã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨è¿™ä¸€ç‚¹æ¥é€€å‡ºï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

```shell
$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 1.50s
     Running `target/debug/guessing_game`
çŒœæ•°æ¸¸æˆï¼ï¼
ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: 57
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
12
ä½ çŒœæµ‹çš„æ•°ä¸º: 12
å¤ªå°äº†ï¼
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
57
ä½ çŒœæµ‹çš„æ•°ä¸º: 57
çŒœå¯¹äº†ï¼
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
asdf
thread 'main' panicked at 'è¯·è¾“å…¥æ•°å­—!: ParseIntError { kind: InvalidDigit }', src/main.rs:19:47
note: run with `RUST_BACKTRACE=1` environment variable to display a backtrace
```

### çŒœæµ‹æ­£ç¡®åé€€å‡º

è®©æˆ‘ä»¬å¢åŠ ä¸€ä¸ª break è¯­å¥ï¼Œåœ¨ç”¨æˆ·çŒœå¯¹æ—¶é€€å‡ºæ¸¸æˆï¼š

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    loop {
        println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

        let mut guess = String::new();

        io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

        let guess: u32 = guess.trim().parse().expect("è¯·è¾“å…¥æ•°å­—!");

        println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("å¤ªå°äº†ï¼"),
            Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
            Ordering::Equal => {
                println!("çŒœå¯¹äº†ï¼");
                break;
            }
        }
    }
}a

```

é€šè¿‡åœ¨ You win! ä¹‹åå¢åŠ ä¸€è¡Œ breakï¼Œç”¨æˆ·çŒœå¯¹äº†ç¥ç§˜æ•°å­—åä¼šé€€å‡ºå¾ªç¯ã€‚é€€å‡ºå¾ªç¯ä¹Ÿæ„å‘³ç€é€€å‡ºç¨‹åºï¼Œå› ä¸ºå¾ªç¯æ˜¯ main çš„æœ€åä¸€éƒ¨åˆ†ã€‚

### å¤„ç†æ— æ•ˆè¾“å…¥

ä¸ºäº†è¿›ä¸€æ­¥æ”¹å–„æ¸¸æˆæ€§ï¼Œä¸è¦åœ¨ç”¨æˆ·è¾“å…¥éæ•°å­—æ—¶å´©æºƒï¼Œéœ€è¦å¿½ç•¥éæ•°å­—ï¼Œè®©ç”¨æˆ·å¯ä»¥ç»§ç»­çŒœæµ‹ã€‚å¯ä»¥é€šè¿‡ä¿®æ”¹ guess å°† String è½¬åŒ–ä¸º u32 é‚£éƒ¨åˆ†ä»£ç æ¥å®ç°

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    println!("ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: {secret_number}");

    loop {
        println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

        let mut guess = String::new();

        io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

        let guess: u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };
            // å°† expect è°ƒç”¨æ¢æˆ match è¯­å¥ï¼Œä»¥ä»é‡åˆ°é”™è¯¯å°±å´©æºƒè½¬æ¢ä¸ºå¤„ç†é”™è¯¯ã€‚
            // é¡»çŸ¥ parse è¿”å›ä¸€ä¸ª Result ç±»å‹ï¼Œè€Œ Result æ˜¯ä¸€ä¸ªæ‹¥æœ‰ Ok æˆ– Err æˆå‘˜çš„æšä¸¾ã€‚
            // è¿™é‡Œä½¿ç”¨çš„ match è¡¨è¾¾å¼ï¼Œå’Œå¤„ç† cmp æ–¹æ³•è¿”å› Ordering æ—¶ç”¨çš„ä¸€æ ·ã€‚

            // å¦‚æœ parse èƒ½å¤ŸæˆåŠŸçš„å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªåŒ…å«ç»“æœæ•°å­—çš„ Okã€‚
            // è¿™ä¸ª Ok å€¼ä¸ match ç¬¬ä¸€ä¸ªåˆ†æ”¯çš„æ¨¡å¼ç›¸åŒ¹é…ï¼Œè¯¥åˆ†æ”¯å¯¹åº”çš„åŠ¨ä½œè¿”å› Ok å€¼ä¸­çš„æ•°å­— numï¼Œ
            // æœ€åå¦‚æ„¿å˜æˆæ–°åˆ›å»ºçš„ guess å˜é‡ã€‚

            // å¦‚æœ parse ä¸èƒ½å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªæ•°å­—ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªåŒ…å«æ›´å¤šé”™è¯¯ä¿¡æ¯çš„ Errã€‚
            // Err å€¼ä¸èƒ½åŒ¹é…ç¬¬ä¸€ä¸ª match åˆ†æ”¯çš„ Ok(num) æ¨¡å¼ï¼Œä½†æ˜¯ä¼šåŒ¹é…ç¬¬äºŒä¸ªåˆ†æ”¯çš„ Err(_) æ¨¡å¼ï¼š
            // _ æ˜¯ä¸€ä¸ªé€šé…ç¬¦å€¼ï¼Œæœ¬ä¾‹ä¸­ç”¨æ¥åŒ¹é…æ‰€æœ‰ Err å€¼ï¼Œä¸ç®¡å…¶ä¸­æœ‰ä½•ç§ä¿¡æ¯ã€‚
            // æ‰€ä»¥ç¨‹åºä¼šæ‰§è¡Œç¬¬äºŒä¸ªåˆ†æ”¯çš„åŠ¨ä½œï¼Œcontinue æ„å‘³ç€è¿›å…¥ loop çš„ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œè¯·æ±‚å¦ä¸€ä¸ªçŒœæµ‹ã€‚
            // è¿™æ ·ç¨‹åºå°±æœ‰æ•ˆçš„å¿½ç•¥äº† parse å¯èƒ½é‡åˆ°çš„æ‰€æœ‰é”™è¯¯ï¼

        println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("å¤ªå°äº†ï¼"),
            Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
            Ordering::Equal => {
                println!("çŒœå¯¹äº†ï¼");
                break;
            }
        }
    }
}
```

ç°åœ¨ä¸‡äº‹ä¿±å¤‡ï¼Œåªéœ€è¿è¡Œ cargo runï¼š

```shell
$ cargo run
   Compiling guessing_game v0.1.0 (file:///projects/guessing_game)
    Finished dev [unoptimized + debuginfo] target(s) in 4.45s
     Running `target/debug/guessing_game`
çŒœæ•°æ¸¸æˆï¼ï¼
ç”Ÿæˆçš„å¯†ç æ•°å­—æ˜¯: 66
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
12d
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
12
ä½ çŒœæµ‹çš„æ•°ä¸º: 12
å¤ªå°äº†ï¼
è¯·è¾“å…¥ä¸€ä¸ªå€¼:
66
ä½ çŒœæµ‹çš„æ•°ä¸º: 66
çŒœå¯¹äº†ï¼
```

### æœ€ç»ˆç‰ˆæœ¬

å¤ªæ£’äº†ï¼å†æœ‰æœ€åä¸€ä¸ªå°çš„ä¿®æ”¹ï¼Œå°±èƒ½å®ŒæˆçŒœçŒœçœ‹æ¸¸æˆäº†ï¼šè¿˜è®°å¾—ç¨‹åºä¾ç„¶ä¼šæ‰“å°å‡ºç§˜å¯†æ•°å­—ã€‚åœ¨æµ‹è¯•æ—¶è¿˜å¥½ï¼Œä½†æ­£å¼å‘å¸ƒæ—¶ä¼šæ¯äº†æ¸¸æˆã€‚åˆ æ‰æ‰“å°ç§˜å¯†æ•°å­—çš„ println!ã€‚

æœ€ç»ˆä»£ç ï¼š

æ–‡ä»¶å: src/main.rs

```rust
use rand::Rng;
use std::cmp::Ordering;
use std::io;

fn main() {
    println!("çŒœæ•°æ¸¸æˆï¼ï¼");

    let secret_number = rand::thread_rng().gen_range(1..=100);

    loop {
        println!("è¯·è¾“å…¥ä¸€ä¸ªå€¼:");

        let mut guess = String::new();

        io::stdin().read_line(&mut guess).expect("è¯»æ•°å¤±è´¥!");

        let guess: u32 = match guess.trim().parse() {
            Ok(num) => num,
            Err(_) => continue,
        };

        println!("ä½ çŒœæµ‹çš„æ•°ä¸º: {guess}");

        match guess.cmp(&secret_number) {
            Ordering::Less => println!("å¤ªå°äº†ï¼"),
            Ordering::Greater => println!("å¤ªå¤§äº†ï¼"),
            Ordering::Equal => {
                println!("çŒœå¯¹äº†ï¼");
                break;
            }
        }
    }
}
```
